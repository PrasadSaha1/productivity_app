{% extends 'main/base.html' %}

{% block content %}
<style>
    .form-container {
        display: flex;
        flex-direction: column;
        align-items: center; /* Centers form elements horizontally */
    }

    .form-container input,
    .form-container label {
        margin-bottom: 10px; /* Adjust this value to change the space between elements */
    }

    .form-container button {
        margin-top: 20px; /* Space above the submit button */
    }
</style>

<div id="content" style="text-align: center;">
    <h1 style="font-weight: normal;">Pomodoro Timer Setup</h1>

    <form method="post" action="{% url 'make_new_timer' %}" class="form-container" onsubmit="return validateInputs()">
        {% csrf_token %}

        <label for="timer_name">Name of timer</label>
        <input type="text" id="timer_name" name="name" placeholder="Name of timer" required>

        <label for="work_period">Work period (minutes)</label>
        <input type="number" id="work_period" name="work_period" placeholder="Work period" min="1" required>

        <label for="break_period">Break period (minutes)</label>
        <input type="number" id="break_period" name="break_period" placeholder="Break period" min="1" required>

        <label for="times_repeat">Times to Run</label>
        <input type="number" id="times_repeat" name="times_repeat" placeholder="Times to Repeat" min="1" required>

        <label>
            <input type="checkbox" name="sound_on_work_end">
            Sound upon the end of work period?
        </label>

        <label>
            <input type="checkbox" name="sound_on_break_end">
            Sound upon the end of break period?
        </label>
        <input type="hidden" id="date_created" name="date_created" placeholder="Times to Repeat" value="{{current_date}}">

        <!-- Submit Button -->
        <button type="submit">Submit</button>
    </form>
</div>

<script>
    function validateInputs() {
        const workPeriod = document.querySelector('input[name="work_period"]').value;
        const breakPeriod = document.querySelector('input[name="break_period"]').value;

        if (workPeriod <= 0 || breakPeriod <= 0) {
            alert("Please enter positive numbers only.");
            return false; // Prevent form submission
        }
        return true; // Allow form submission if validation passes
    }
</script>

{% endblock %}
